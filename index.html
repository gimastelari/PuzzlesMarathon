<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Puzzles Marathon — Danbury, CT</title>
  <meta name="description" content="Puzzles Marathon — April 25, 10am–1pm on Main Street, Danbury, CT. Start: Main Street → End: Rogers Park." />
  <link rel="icon" href="assets/img/logo-heart.jpg" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glass { backdrop-filter: blur(10px); background: rgba(255,255,255,.9); }
  </style>
</head>

<body class="bg-slate-50 text-slate-900">

<!-- ================= NAV ================= -->
<header class="sticky top-0 z-40 bg-white/90 border-b border-slate-200">
  <nav class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
    <a href="#" class="flex items-center gap-2 font-semibold text-xl">
      <img src="assets/img/logo-heart.jpg" class="w-8 h-8 rounded-full" />
      Puzzles Marathon
    </a>
    <ul class="hidden md:flex gap-6 text-sm font-medium">
      <li><a href="#about">About</a></li>
      <li><a href="#event">Event</a></li>
      <li><a href="#community">Community</a></li>
      <li><a href="#accessibility">Accessibility</a></li>
      <li><a href="#forms">Register</a></li>
    </ul>
  </nav>
</header>

<!-- ================= HERO ================= -->
<section class="max-w-6xl mx-auto px-4 py-16 grid md:grid-cols-2 gap-10">
  <div class="glass p-8 rounded-2xl shadow">
    <h1 class="text-4xl font-bold">Run for Awareness. Celebrate Community.</h1>
    <p class="mt-4">April 25 · Main Street, Danbury CT</p>
    <a href="#forms" class="inline-block mt-6 bg-blue-600 text-white px-6 py-3 rounded-xl">Register Now</a>
  </div>
  <img src="assets/img/logo-heart.jpg" class="w-72 h-72 mx-auto rounded-full shadow" />
</section>

<!-- ================= FORMS ================= -->
<section id="forms" class="max-w-6xl mx-auto px-4 py-16 grid md:grid-cols-2 gap-8">

<!-- PARTICIPANT -->
<div class="bg-white p-6 rounded-xl shadow">
  <h3 class="font-semibold mb-3">Participants & Attendees</h3>
  <form id="participantForm" class="space-y-3">
    <input required placeholder="Full Name" class="w-full border px-3 py-2 rounded" />
    <input required type="email" placeholder="Email" class="w-full border px-3 py-2 rounded" />
    <input required placeholder="Phone" class="w-full border px-3 py-2 rounded" />
    <select required class="w-full border px-3 py-2 rounded">
      <option value="">Role</option>
      <option>Runner</option>
      <option>Attendee</option>
    </select>
    <button
      type="button"
      onclick="startCheckout('participant')"
      class="bg-blue-600 text-white px-5 py-2 rounded"
    >
      Pay & Submit
    </button>
  </form>
</div>

<!-- SPONSOR -->
<div class="bg-white p-6 rounded-xl shadow">
  <h3 class="font-semibold mb-3">Sponsors & Partners</h3>
  <form id="sponsorForm" class="space-y-3">
    <input required placeholder="Organization" class="w-full border px-3 py-2 rounded" />
    <input required placeholder="Contact Name" class="w-full border px-3 py-2 rounded" />
    <input required type="email" placeholder="Email" class="w-full border px-3 py-2 rounded" />
    <button
      type="button"
      onclick="startCheckout('sponsor')"
      class="bg-blue-600 text-white px-5 py-2 rounded"
    >
      Pay & Submit
    </button>
  </form>
</div>

</section>

<!-- ================= STRIPE BACKEND INTEGRATION ================= -->
<script>
async function startCheckout(type) {
  const response = await fetch(
    "https://puzzles-marathon-backend.onrender.com/create-session",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ type })
    }
  );

  const data = await response.json();

  if (data.url) {
    window.location.href = data.url;
  } else {
    alert("Payment failed. Please try again.");
  }
}
</script>

<!-- ================= FOOTER ================= -->
<footer class="text-center py-10 text-sm text-slate-500">
  © 2025 Puzzles Marathon
</footer>

</body>
</html>

