<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Puzzles Marathon â€” Danbury, CT</title>
  <meta name="description" content="Puzzles Marathon â€” April 25, 10amâ€“2pm at 36 E Hayestown Rd, Danbury, CT." />
  <link rel="icon" href="assets/img/logo-heart.jpg" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      background: linear-gradient(180deg, #f8fafc 0%, #ffffff 40%, #f1f5f9 100%);
    }
    .glass {
      backdrop-filter: blur(12px);
      background: rgba(255,255,255,0.96);
    }
    .accent-bar {
      height: 5px;
      background: linear-gradient(
        90deg,
        #2563eb,
        #22c55e,
        #eab308,
        #ef4444
      );
      border-radius: 999px;
    }
    .soft-panel {
      background: linear-gradient(180deg, #f8fafc, #ffffff);
    }
  </style>
</head>

<body class="text-slate-900">

<!-- NAV -->
<header class="sticky top-0 z-50 bg-white/90 border-b border-slate-200 backdrop-blur">
  <nav class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
    <a href="#" class="flex items-center gap-3 font-semibold text-xl">
      <img src="assets/img/logo-heart.jpg" class="w-9 h-9 rounded-full" />
      Puzzles Marathon
    </a>

    <ul class="hidden md:flex gap-6 text-sm font-medium text-slate-700">
      <li><a href="#about" class="hover:text-blue-600">About</a></li>
      <li><a href="#event" class="hover:text-blue-600">Event</a></li>
      <li><a href="#community" class="hover:text-blue-600">Community</a></li>
      <li><a href="#accessibility" class="hover:text-blue-600">Accessibility</a></li>
      <li><a href="#forms" class="hover:text-blue-600">Register</a></li>
      <li><a href="#contact" class="hover:text-blue-600">Contact</a></li>
    </ul>

    <div class="hidden md:flex gap-3">
      <a href="#donate"
         class="px-4 py-2 rounded-xl border border-blue-200 text-blue-600 font-semibold hover:bg-blue-50 transition">
        Donate
      </a>
      <a href="#forms"
         class="px-5 py-2 rounded-xl bg-blue-600 text-white shadow hover:bg-blue-700 transition">
        Register
      </a>
    </div>
  </nav>
</header>

<!-- HERO -->
<section class="max-w-6xl mx-auto px-4 py-24 grid md:grid-cols-2 gap-14 items-center">
  <div class="glass p-10 rounded-3xl shadow-xl">
    <div class="accent-bar mb-6"></div>
    <h1 class="text-4xl md:text-5xl font-bold leading-tight">
      Run for Awareness.<br />
      <span class="text-blue-600">Celebrate Community.</span>
    </h1>
    <p class="mt-5 text-slate-700 text-lg">
      April 25 Â· 36 E Hayestown Rd, Danbury, CT
    </p>
    <div class="mt-8 flex gap-4 flex-wrap">
      <a href="#forms"
         class="bg-blue-600 text-white px-8 py-3 rounded-2xl text-lg font-semibold shadow hover:bg-blue-700 transition">
        Register Now
      </a>
      <a href="#donate"
         class="px-8 py-3 rounded-2xl text-lg font-semibold border border-blue-200 text-blue-600 hover:bg-blue-50 transition">
        Donate
      </a>
    </div>
  </div>

  <div class="flex justify-center">
    <img src="assets/img/logo-heart.jpg" class="w-80 h-80 rounded-full shadow-2xl" />
  </div>
</section>

<!-- ABOUT -->
<section id="about" class="soft-panel border-y border-slate-200">
  <div class="max-w-6xl mx-auto px-4 py-24">
    <h2 class="text-3xl font-bold mb-6">About the Marathon</h2>
    <p class="text-slate-700 max-w-4xl leading-relaxed">
      Puzzles Marathon is an inclusive, city-backed community run supporting the autism community
      through awareness, accessibility, and connection. Our mission is to create a welcoming space
      where people of all abilities can come together, move, connect, and celebrate neurodiversity.
    </p>
  </div>
</section>

<!-- EVENT -->
<section id="event" class="bg-white">
  <div class="max-w-6xl mx-auto px-4 py-24">
    <h2 class="text-3xl font-bold mb-6">Event Details</h2>
    <ul class="space-y-3 text-slate-700">
      <li><strong>Date:</strong> April 25, 10:00 AM â€“ 2:00 PM</li>
      <li><strong>Location:</strong> 36 E Hayestown Rd, Danbury, CT</li>
      <li><strong>Finish:</strong> 36 E Hayestown Rd, Danbury, CT</li>
      <li><strong>Distance:</strong> 5K</li>
    </ul>
  </div>
</section>

<!-- COMMUNITY -->
<section id="community" class="soft-panel border-y border-slate-200">
  <div class="max-w-6xl mx-auto px-4 py-24">
    <h2 class="text-3xl font-bold mb-6">Community Impact</h2>
    <p class="text-slate-700 max-w-4xl">
      Every step taken at Puzzles Marathon helps fund inclusive programming,
      accessibility initiatives, and community-based organizations.
    </p>
  </div>
</section>

<!-- ACCESSIBILITY -->
<section id="accessibility" class="bg-white">
  <div class="max-w-6xl mx-auto px-4 py-24">
    <h2 class="text-3xl font-bold mb-8">Accessibility Commitment</h2>
    <ul class="grid md:grid-cols-2 gap-6 text-slate-700">
      <li>âœ” Wheelchair-accessible route</li>
      <li>âœ” Sensory-friendly spaces</li>
      <li>âœ” Trained volunteers</li>
      <li>âœ” Clear signage and wayfinding</li>
    </ul>
  </div>
</section>

<!-- FORMS (FIXED WIDTH + GRID) -->
<section id="forms" class="soft-panel border-t border-slate-200">
  <div class="max-w-6xl mx-auto px-4 py-24 grid md:grid-cols-2 gap-10">

<!-- RUNNERS -->
<div class="bg-white p-8 rounded-2xl shadow-lg">
  <h3 class="text-xl font-semibold mb-4">Runners</h3>
  <form id="participantForm" class="space-y-3">
    <input required name="name" placeholder="Full Name" class="w-full border px-3 py-2 rounded" />
    <input required name="email" type="email" placeholder="Email" class="w-full border px-3 py-2 rounded" />
    <input required name="phone" placeholder="Phone" class="w-full border px-3 py-2 rounded" />
    <label>T-Shirt Size</label>
    <select id="shirtSize" name="shirt_size" required class="w-full border px-3 py-2 rounded">
      <option value="" disabled selected>Select your size</option>
      <option>XS</option><option>S</option><option>M</option><option>L</option><option>XL</option>
    </select>
    <label class="flex items-center gap-2 text-sm">
      <input type="checkbox" name="agreed_to_terms" required />
      I agree to the
      <a href="https://docs.google.com/document/d/1MdWsLI6YuOy6cZM16VV6U5cdBMise8wneQRcEbTANVc/edit"
         target="_blank" class="text-blue-600 underline">
        Terms & Conditions and Waiver
      </a>
    </label>
    <button type="button" onclick="startRunnerCheckout()"
      class="bg-blue-600 text-white px-5 py-2 rounded">
      Pay & Submit
    </button>
  </form>
</div>

<!-- SPONSORS -->
<div class="bg-white p-8 rounded-2xl shadow-lg">
  <h3 class="text-xl font-semibold mb-4">Sponsors</h3>
  <form id="sponsorForm" class="space-y-3">
    <input required name="organization" placeholder="Organization" class="w-full border px-3 py-2 rounded" />
    <input required name="contact" placeholder="Contact Name" class="w-full border px-3 py-2 rounded" />
    <input required name="email" type="email" placeholder="Email" class="w-full border px-3 py-2 rounded" />
    <input required name="phone" placeholder="Phone Number" class="w-full border px-3 py-2 rounded" />
    <select name="sponsorship_level" required class="w-full border px-3 py-2 rounded">
      <option value="" disabled selected>Select a Sponsorship Level</option>
      <option>Silver - $300</option>
      <option>Gold - $150</option>
    </select>
    <label class="flex items-center gap-2 text-sm">
      <input type="checkbox" required /> I agree to the
      <a href="https://docs.google.com/document/d/1CEYrgBr7yb0ZxReJaFhZPm_Msfmo0yJg4jF4zYF7YRY/edit"
         target="_blank" class="text-blue-600 underline">
        Terms & Conditions
      </a>
    </label>
    <button type="button" onclick="startSponsorCheckout()"
      class="bg-blue-600 text-white px-5 py-2 rounded">
      Pay & Submit
    </button>
  </form>
</div>

<!-- VENDORS -->
<div class="bg-white p-8 rounded-2xl shadow-lg md:col-span-1">
  <h3 class="text-xl font-semibold mb-4">Vendors</h3>
  <form id="vendorForm" class="space-y-3">
    <input required name="company" placeholder="Company Name" class="w-full border px-3 py-2 rounded" />
    <input required name="contact" placeholder="Contact Name" class="w-full border px-3 py-2 rounded" />
    <input required name="email" type="email" placeholder="Email" class="w-full border px-3 py-2 rounded" />
    <input required name="phone" placeholder="Phone Number" class="w-full border px-3 py-2 rounded" />
    <input required name="vendor_code" placeholder="Vendor Code" class="w-full border px-3 py-2 rounded" />
    <label class="flex items-center gap-2 text-sm">
      <input type="checkbox" required /> I agree to the
      <a href="https://docs.google.com/document/d/1du90L0D3Pf4AfE9Q5Z5Wem_BHZeGdb8b9rvCFAWCRxE/edit"
         target="_blank" class="text-blue-600 underline">
        Terms & Conditions
      </a>
    </label>
    <button type="button" onclick="startVendorCheckout()"
      class="bg-blue-600 text-white px-5 py-2 rounded">
      Pay & Submit
    </button>
  </form>
</div>

  </div>
</section>

<!-- DONATIONS -->
<section id="donate" class="bg-white border-y">
  <div class="max-w-3xl mx-auto px-4 py-24 text-center">
    <h2 class="text-3xl font-bold mb-4">Support Puzzles Marathon ðŸ’™</h2>
    <p class="text-slate-700 mb-8">
      Your donation helps fund inclusive programming and accessibility resources.
    </p>
    <div class="bg-slate-50 p-6 rounded-xl shadow max-w-md mx-auto">
      <form id="donationForm" class="space-y-4">
        <input required name="name" placeholder="Full Name" class="w-full border px-3 py-2 rounded" />
        <input required name="email" type="email" placeholder="Email" class="w-full border px-3 py-2 rounded" />
        <input required name="amount" type="number" min="1"
          placeholder="Donation Amount (USD)" class="w-full border px-3 py-2 rounded" />
        <textarea name="message" placeholder="Optional message"
          class="w-full border px-3 py-2 rounded"></textarea>
        <button type="button" onclick="startDonationCheckout()"
          class="bg-blue-600 text-white w-full py-3 rounded-lg font-semibold">
          Donate Now
        </button>
      </form>
    </div>
  </div>
</section>

<!-- FOOTER -->
<section id="contact" class="bg-white border-t">
  <div class="max-w-6xl mx-auto px-4 py-10 flex justify-between">
    <p>Questions? <a href="mailto:info@puzzlesmarathon.com" class="text-blue-600 underline">
      info@puzzlesmarathon.com</a></p>
    <p class="text-sm text-slate-500">Â© 2025 Puzzles Marathon</p>
  </div>
</section>

<!-- SCRIPTS (UNCHANGED) -->
<script>
  function startRunnerCheckout() {
    const form = document.getElementById('participantForm');
    localStorage.setItem('participantFormData', JSON.stringify({
      name: form.name.value,
      email: form.email.value,
      phone: form.phone.value,
      shirt_size: form.shirt_size.value,
      agreed_to_terms: form.agreed_to_terms.checked ? "Yes" : "No"
    }));
    startCheckout('participant');
  }
</script>

<script>
async function startCheckout(type) {
  const response = await fetch(
    "https://puzzles-marathon-backend.onrender.com/create-session",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ type })
    }
  );
  const data = await response.json();
  if (data.url) window.location.href = data.url;
  else alert("Payment failed. Please try again.");
}
</script>

<script>
function startVendorCheckout(){
  const form = document.getElementById('vendorForm');
  const vendorCode = form.vendor_code.value.trim();
  if (vendorCode !== 'VENDOR2026'){
    alert('Invalid Vendor Code.');
    return;
  }
  localStorage.setItem('vendorForm', JSON.stringify({
    company: form.company.value,
    contact: form.contact.value,
    email: form.email.value,
    phone: form.phone.value,
    vendor_code: vendorCode
  }));
  startCheckout('vendor');
}
</script>

<script>
function startSponsorCheckout() {
  const form = document.getElementById("sponsorForm");
  const level = form.sponsorship_level.value;
  let amountType = level.includes("Gold") ? "sponsor_gold" : "sponsor_silver";
  localStorage.setItem("sponsorFormData", JSON.stringify({
    organization: form.organization.value,
    contact: form.contact.value,
    email: form.email.value,
    phone: form.phone.value,
    sponsorship_level: level
  }));
  startCheckout(amountType);
}
</script>

<script>
function startDonationCheckout() {
  const form = document.getElementById("donationForm");
  const amount = Number(form.amount.value);
  if (!amount || amount < 1) return alert("Invalid donation amount.");
  localStorage.setItem("donationFormData", JSON.stringify({
    name: form.name.value,
    email: form.email.value,
    amount,
    message: form.message.value || ""
  }));
  fetch("https://puzzles-marathon-backend.onrender.com/create-donation-session", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ amount })
  })
  .then(res => res.json())
  .then(data => window.location.href = data.url);
}
</script>

</body>
</html>
